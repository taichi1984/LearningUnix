# プログラミング課題5.27
## 課題内容
本文には、ファイルデスクリプタのディスクバッファリングをオフにするコードが含まれているが、逆にバッファリングをオンに戻す関数を書きなさい。

## ファイルディスクリプラのディスクバッファリングをオフにするコード
本文中にあるファイルディスクリプタのディスクバッファリングをオフにするのは以下のコード

```
#include<fcntl.h>
int s;
s = fcntl(fd, F_GETFL);
s |= O_SYNC;
result = fcntl(fd,F_SETFL,s);
if(result == -1)
    perror("setting SYNC");

```

これをO_SYNCを消すためには、O_SYNCフラグを除けば良い。
どのように実現すればいいか？

フラグを消す際は &= ~ を用いればいい。

## フラグを消す関数

```
int unset_sync(int fd) {
  int s;
  int result;
  s = fcntl(fd, F_GETFL);
  if (s == -1) {
    perror("fcntl GETFL");
    return -1;
  }

  s &= ~O_SYNC;
  result = fcntl(fd, F_SETFL, s);

  if (result == -1) {
    perror("unset SYNC");
    return -1;
  }

  return 0;
}

```


