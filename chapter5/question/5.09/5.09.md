# 研究課題5.9
## 課題内容
**他のデバイスのエコーチェック** サンプルプログラムのechostate.cは、
ファイルディスクリプタ0に対応するドライバのエコービットの状態を報告する。
次のようにリダイレクト記号の<を使って、標準入力に他のファイルやデバイスを接続し、エコー設定を調べなさい。

echostate < /dev/tty
echostate < /dev/lp
echostate < /etc/passwd
echostate < 'tty'

これらのコマンドがそれぞれ生成する出力を説明しなさい。


## echostate.cのソースコード
```
#include <stdio.h>
#include <stdlib.h>
#include <termios.h>

int main() {
  struct termios info;
  int rv;
  rv = tcgetattr(0, &info);
  if (rv == -1) {
    perror("tcgetattr");
    exit(1);
  }

  if (info.c_lflag & ECHO)
    printf(" echo is on , since its bit is 1\n");
  else
    printf(" echo is off , since its bit is 0\n");
}

```

## 実行してみたらどうなるか?
```
$ ./echostate < /dev/tty
 echo is on , since its bit is 1
$ ./echostate < /dev/lp
bash: /dev/lp: そのようなファイルやディレクトリはありません
$ ./echostate < /etc/passwd
tcgetattr: Inappropriate ioctl for device
$ ./echostate < 'tty'
bash: tty: そのようなファイルやディレクトリはありません
```

まず/dev/ttyは端末なのできちんとechoの設定が返ってくる。
/dev/lpは、プリンタのシリアル接続のためのものだが、現代のPCにはそのようなポートはないので、no such file or directoryが返ってくる。
/etc/passwdは、ただのファイルであり、デバイスファイルではないので、ioctlが正しく動かず、エラーが返ってくる。
'tty'はただのttyというテキストなので、no such file or directoryが返ってくる。


