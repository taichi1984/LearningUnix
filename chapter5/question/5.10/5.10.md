# 研究課題 5.10
## 課題内容
**他の端末の属性の変更** setechoプログラムは、標準入力にせつぞくされたドライバのエコービットを変更する。
標準入力を他の端末に接続した場合、その端末のエコービットを書き換えられる。
次の実験をしなさい。

(a) 同じマシンに２回ログインする(あるいは１つのマシンのウィンドウを２つ開く)

(b) 各ウィンドウでttyコマンドを実行して、２るのウィンドウに対応するデバイスファイルの名前を調べる。
ここでは、片方が/dev/ttyp1、もう片方が/dev/ttyp2に接続されているものとする。

(c) ttyp1で、setecho n < /dev/ttyp2を実行する。

(d) ttyp2で、echostateコマンドを実行する。

(e) ttyp1で、echostateコマンドを実行する。

(f) 何が起きたかを説明しなさい。

(g) 本物のsttyコマンドでも同じことを試しなさい。

この作業をしておくと、将来とても役に立つはずだ。


## 実際に試したらどうなったか。
現環境(Ubuntu 2.24)では何も起こらない。
エラーメッセージも出ずにただ設定が反映されない。これはどういうことなのか？

### chaggptにて確認
過去には、これでstdin以外の端末の設定を変更することが出来ていたようだ。
現在のlinuxカーネルでは、セキュリティの関係上、他の端末の設定を操作するのは禁止されている。

エラーが返ってこないのは、同じユーザーでログインしているため、デバイスファイルのopenまでは問題なく実行されている。
open権限はOKだが、他の端末の設定を書き換えるのをカーネルが弾いているようだ。
その関係でエラーは出ないが、設定も書き換わらないということが起こる。

### sudoして、root権限なら変更可能なのか？
sudoで実行した場合も他人の端末の設定を変更することは出来なかった。
カーネル側が他人の設定の変更を厳しく禁じているようだ。





